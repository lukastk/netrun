# AUTOGENERATED! DO NOT EDIT! File to edit: pts/netrun/graph.pct.py

__all__ = ["Graph", "Node"]

# %% pts/netrun/graph.pct.py 2
from typing import Callable, Optional
from dataclasses import dataclass

import netrun_sim
from netrun_sim import Port, SalvoCondition, Edge


# %% pts/netrun/graph.pct.py 3
@dataclass
class Node:
    name: str
    in_ports: dict[str, Port]
    out_ports: dict[str, Port]
    in_salvo_conditions: dict[str, SalvoCondition]
    out_salvo_conditions: dict[str, SalvoCondition]

    epoch_func: Callable[[], None]
    startup_func: Optional[Callable[[], None]]
    shutdown_func: Optional[Callable[[], None]]

    def __post_init__(self):
        self._node_spec = netrun_sim.Node(
            name=self.name,
            in_ports=self.in_ports,
            out_ports=self.out_ports,
            in_salvo_conditions=self.in_salvo_conditions,
            out_salvo_conditions=self.out_salvo_conditions,
        )


# %% pts/netrun/graph.pct.py 4
class Graph:
    nodes: list[Node]
    edges: list[Edge]
